<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>{{ if .IsHome }}{{ site.Title }}{{ else }}{{ printf "%s | %s" .Title site.Title }}{{ end }}</title>
<script>
  // FOUC(Flash of Unstyled Content)を防ぐため、CSSが読み込まれる前にテーマを設定する
  (function() {
    const theme = localStorage.getItem('theme') || 'dark';
    document.documentElement.setAttribute('data-theme', theme);
  })();
</script>
{{ if or (eq .Kind "taxonomy") (eq .Kind "term") }}
<meta name="robots" content="noindex">
{{ end }}
{{ with .Description }}<meta name="description" content="{{ . }}">{{ end }}

<!--suppress HtmlUnknownTarget -->
<link rel="canonical" href="{{ .Permalink }}">
<!--suppress HtmlUnknownTarget -->
<link rel="alternate" hreflang="{{ .Lang }}" href="{{ .Permalink }}">
{{ range sort (.AllTranslations) "Lang" -}}
  <!--suppress HtmlUnknownTarget -->
  <link rel="alternate" hreflang="{{ .Lang }}" href="{{ .Permalink }}">
{{ end -}}
<!--suppress HtmlUnknownTarget -->
<link rel="alternate" hreflang="x-default" href="{{ .Permalink }}">
{{ partialCached "head/css.html" . }}
{{ partialCached "head/js.html" . }}
{{ partial "head/meta.html" . }}
{{ partial "head/schema.html" . }}

{{ if .Site.Params.googleAnalytics }}
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id={{ .Site.Params.googleAnalytics }}"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', '{{ .Site.Params.googleAnalytics }}');
</script>
{{ end }}
